## プロダクト要件定義書（PRD）「飲食店カード共有アプリ」

## 1. 目的・背景
LINEなどのメッセージアプリで友人からもらった飲食店情報が流れて見返せなくなる。
誰からどんなコメントでおすすめされたのかを記録し、友人に「自分のおすすめ」をパーソナライズして共有できる仕組みを提供する。

## 2. 想定ユーザー
- 20〜40代の都市部ユーザー
- 飲食店を探すとき、ネットのレビューより信頼できる人の推薦を重視する人
- 「○○で美味しい店ある？」とLINEなどでよく聞かれる人

## 3. 課題
- おすすめ情報がメッセージの中で埋もれる／検索しづらい
- 誰からどんな意図で教えてもらったのか忘れてしまう
- 自分のおすすめを簡単に共有できない／管理できない

## 4. 解決策（提供価値）
- 「おすすめカード」として飲食店情報を記録・整理できる
- ジャンル・タグで検索して、LINE等で簡単に共有できる
- 誰にどのカードを送ったか、どこに行ったかを記録できる（今後）

## 5. ユーザーストーリー（PoC＋正式版展望）

### US1: おすすめの飲食店を登録したい

- 入力項目：店名、ジャンル、URL、コメント
- 自分専用のカード一覧に保存される

### US2: 「○○に行きたい」と言われたら、ぴったりの店を共有したい

- ジャンル検索 → カード選択 → 共有URLを生成（LINE対応）

### US3（今後）: 誰にどの店を教えたかを管理したい

- 相手の名前を紐づけて履歴管理、行ったかどうかのフラグも記録

### US4（将来）: 自分が「〇〇で5000円くらいの中華」を募集したい

- リクエスト投稿＋友人がカードで返信→サンキューポイント付与

## 6. 機能要件（Must / Nice to have）

| 機能 | Must | Nice to have |
| --- | --- | --- |
| 店舗カード作成・編集 | ◯ | - |
| カード一覧・検索（ジャンル/タグ） | ◯ | 並び替え機能 |
| 共有リンク生成（カード表示画面） | ◯ | LINE API連携 |
| Googleログイン（Supabase） | ◯ | LINEログイン |
| ユーザーごとのカード管理 | ◯ | フォルダ分類・公開範囲設定 |
| ログ記録（Supabase） | ◯ | PostHogなどへの移行 |

1. 初期設定
    1. ログイン機能
2. カード作成・編集
    1. カードの作成
    2. カードの編集
    3. カードの削除
3. 管理機能
    1. 一覧表示
    2. フォルダ機能
    3. 検索機能
4. 共有機能
    1. 共有用画面
    2. リンク生成
    3. LINEで送信するためのボタン


## 7. 技術構成（PoC〜β版）

- フロント：Next.js + TailwindCSS（モバイルファースト）
- バックエンド：Supabase（Auth + DB + API）
- 認証：Googleログイン（Supabase Auth）
- データ構造：
    - `users`（ID, メール）
    - `cards`（店名, ジャンル, コメント, URL, user_id）
    - `shares`（card_id, to_user_name, timestamp）

## 8. ログ設計（KPI対応）

| イベント | 記録項目 | 対応KPI |
| --- | --- | --- |
| `card_created` | user_id, genre, timestamp | 登録数、利用頻度 |
| `card_shared` | card_id, method, timestamp | 共有数 |
| `link_opened` | shared_by, timestamp | 閲覧数、反応率 |
| `card_marked_visited` | user_id, card_id | 行動変化（訪問率） |
